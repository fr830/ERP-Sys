@{
    Layout = null;
}
@Styles.Render("~/Content/css")
@Scripts.Render("~/bundles/modernizr")
@Scripts.Render("~/bundles/jquery")
@Scripts.Render("~/bundles/bootstrap")

<html lang="en">
<head>
    <link rel="stylesheet" type="text/css" href="~/Content/LoginCSS/design.css">
    <meta charset="utf-8" />
    <title>MTL ERP System</title>
    <style>
    </style>
</head>

<body>
    <section id="login">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <div class="form-inline text-center">
                        <h2>Reset Your Password</h2>
                        <h4>Fill in your credential</h4>
                        <br />
                        <p style="color:red">Please enter your username and temporary password sent by ERP Customer Service Team</p>
                        <br />
                    </div>
                    <div class="form-wrap">

                        <form role="form" action="/Login/ResetPassword" method="post" id="reset-form" autocomplete="off">
                            <div class="text-center" style="margin: 0px 30px">
                                <div class="form-group form-inline">
                                    <label>Username:</label>
                                    <input type="text" name="username" id="username" class="form-control" placeholder="Username" required>
                                </div>
                                <div class="form-group form-inline">
                                    <label>Temporary Password:</label>
                                    <input type="text" name="tempPassword" id="tempPassword" class="form-control" placeholder="Temporary Password" required>
                                    
                                </div>
                                <div class="form-group form-inline">
                                    <label>New Password:</label>
                                    <input type="password" name="newPassword" id="newPassword" class="form-control" placeholder="New Password" data-val="true" data-val-length="The field Password must be a string with a maximum length of 100." data-val-length-max="100" title="Password must be min 4 char, max 15 char, contains at least 1 capital letter, at least 1 symbol, at least 1 number. Eg: Pass1234!" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@Html.Raw('@')$!%*?&])[A-Za-z\d$@Html.Raw('@')$!%*?&]{8,}" required>
                                </div>
                                <div class="form-group form-inline">
                                    <label>Confirm Password:</label>
                                    <input type="password" name="confirmPassword" id="confirmPassword" class="form-control" placeholder="Confirm New Password" data-val="true" data-val-length="The field Password must be a string with a maximum length of 100." data-val-length-max="100" title="Password must be min 4 char, max 15 char, contains at least 1 capital letter, at least 1 symbol, at least 1 number. Eg: Pass1234!" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@Html.Raw('@')$!%*?&])[A-Za-z\d$@Html.Raw('@')$!%*?&]{8,}" required>
                                </div>
                                <p style="color:red;">@ViewBag.message </p>
                                <input type="submit" id="btn-login" class="btn btn-custom btn-lg btn-block" onclick="checkPassword()" value="Submit">
                                <a href="/Login/Index">Back</a>
                                <br />
                            </div>
                        </form>

                        <hr>
                    </div>
                @*</div> <!-- /.col-xs-12 -->*@
            </div> <!-- /.row -->
        </div> <!-- /.container -->
    </section>
</body>

</html>
<script>
    function checkPassword() {
        var newPassword = document.getElementById("newPassword").value;
        var confirmPassword = document.getElementById("confirmPassword").value;

        if (newPassword != confirmPassword) {
            alert("New Password and Confirm Password is NOT the same!");
        } else {
            document.getElementById("reset-form").submit();
        }

    }
</script>